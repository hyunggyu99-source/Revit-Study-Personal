# 04. Revit Energy Simulation Engine Comparison Guide

Revit 에너지 해석 엔진의 구조와 외부 EnergyPlus의 차이점, 그리고 상세 데이터(15분/시간별) 추출 방법을 정리한 가이드입니다.

---

## 1. Revit 에너지 해석 구조 (Architecture)

### 시뮬레이션 흐름도

```
┌─────────────────────────────────────────────────────────────────┐
│                     Revit Energy Analysis                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   Revit 모델                                                     │
│       ↓                                                          │
│   gbXML 내보내기 (자동)                                           │
│       ↓                                                          │
│   ☁️ Autodesk Cloud (Insight)                                    │
│   ┌─────────────────────────────────────────┐                    │
│   │  DOE-2.2 기반 엔진 + EnergyPlus 요소     │                    │
│   │  (Autodesk가 커스터마이징한 버전)         │                    │
│   └─────────────────────────────────────────┘                    │
│       ↓                                                          │
│   결과 반환 (월별/연간 집계 데이터)                                │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

> **참고:** Revit/Insight는 순수 EnergyPlus가 아니라 **DOE-2.2 기반**에 EnergyPlus 요소를 결합한 Autodesk 자체 엔진입니다.

---

## 2. 데이터 계산 및 출력 구조 (Data Granularity)

### 시뮬레이션 계산 과정

```
┌────────────────────────────────────────────────────────────────┐
│                    시뮬레이션 계산 과정                          │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│   15분 간격 계산 (35,040개 포인트)                              │
│   ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┐                 │
│   │00:00│00:15│00:30│00:45│01:00│ ... │23:45│ × 365일         │
│   └─────┴─────┴─────┴─────┴─────┴─────┴─────┘                 │
│                         ↓                                      │
│                    월별로 합산                                  │
│                         ↓                                      │
│   ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┐                 │
│   │ Jan │ Feb │ Mar │ Apr │ ... │ Nov │ Dec │ (12개 값)       │
│   └─────┴─────┴─────┴─────┴─────┴─────┴─────┘                 │
│                         ↓                                      │
│              ★ 보고서로 내보내기 ★                              │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

### 데이터 레벨별 가용성

| 데이터 레벨 | Revit/Insight | 외부 EnergyPlus |
|:---|:---:|:---:|
| **연간 (Annual)** | ✅ 가능 | ✅ 가능 |
| **월간 (Monthly)** | ✅ 가능 | ✅ 가능 |
| **일간 (Daily)** | ❌ 불가 | ✅ 가능 |
| **시간별 (Hourly)** | ❌ 불가 | ✅ 가능 |
| **15분 간격 (Timestep)** | ❌ 불가 | ✅ 가능 |

### 핵심 이해

| 항목 | 내용 |
|:---|:---|
| **시뮬레이션 계산 단위** | 15분 간격 (Timestep = 4/hour) |
| **내부 데이터 포인트** | 35,040개/년 (8,760시간 × 4) |
| **Revit 보고서 출력 단위** | 월별 합계 (12개/년) |
| **데이터의 신뢰성** | 15분 단위 정밀 계산 기반 → 높음 |

> **결론:** 월별 총합 데이터는 **15분 간격으로 정밀하게 시뮬레이션된 결과를 월 단위로 집계한 값**입니다.

---

## 3. Revit/Insight vs 외부 EnergyPlus 비교

### 기본 비교표

| 항목 | Revit/Insight (클라우드) | 외부 EnergyPlus (로컬) |
|:---|:---|:---|
| **엔진** | DOE-2.2 기반 + EnergyPlus 요소 | 순수 EnergyPlus (DOE 개발) |
| **실행 위치** | ☁️ Autodesk 클라우드 | 💻 로컬 PC |
| **입력 방식** | Revit에서 자동 변환 | IDF 파일 직접 작성/편집 |
| **출력 데이터** | 월별/연간 집계만 | **15분/시간별/일별 모두 가능** |
| **설정 자유도** | 제한적 (UI에서 제공하는 것만) | 완전한 커스터마이징 가능 |
| **학습 난이도** | ⭐⭐ (쉬움) | ⭐⭐⭐⭐⭐ (어려움) |
| **비용** | 크레딧 소모 (Education은 무료) | 완전 무료 |
| **인터넷** | 필수 | 불필요 |

---

## 4. 장단점 상세 비교

### Revit/Insight (클라우드)

<details>
<summary><strong>✅ 장점</strong></summary>
<br>

| 장점 | 설명 |
|:---|:---|
| **Revit 완벽 통합** | 별도 변환 없이 원클릭 분석 |
| **빠른 결과** | 클라우드 연산으로 로컬 PC 부담 없음 |
| **배우기 쉬움** | GUI 기반, 별도 스크립트 불필요 |
| **설계 초기 적합** | 빠른 비교 분석에 최적화 |
| **자동 기상 데이터** | 위치 기반 자동 적용 |

</details>

<details>
<summary><strong>❌ 단점</strong></summary>
<br>

| 단점 | 설명 |
|:---|:---|
| **상세 데이터 불가** | 시간별/일별 데이터 추출 불가 |
| **설정 제한** | UI에서 제공하는 옵션만 조정 가능 |
| **블랙박스** | 내부 계산 과정 확인 불가 |
| **인터넷 필수** | 오프라인 사용 불가 |
| **크레딧 소모** | 상용 라이선스는 크레딧 필요 |

</details>

### 외부 EnergyPlus (로컬)

<details>
<summary><strong>✅ 장점</strong></summary>
<br>

| 장점 | 설명 |
|:---|:---|
| **상세 데이터 추출** | 15분/시간별/일별 모든 데이터 가능 |
| **완전한 커스터마이징** | 모든 파라미터 조정 가능 |
| **무료** | 오픈소스, 완전 무료 |
| **오프라인 사용** | 인터넷 불필요 |
| **연구/인증용 적합** | LEED, BREEAM 등 정밀 분석에 적합 |
| **투명성** | 모든 계산 과정 확인 가능 |

</details>

<details>
<summary><strong>❌ 단점</strong></summary>
<br>

| 단점 | 설명 |
|:---|:---|
| **가파른 학습 곡선** | IDF 파일 문법 학습 필요 |
| **수동 변환** | Revit → gbXML → IDF 변환 필요 |
| **시뮬레이션 시간** | 로컬 PC 성능에 따라 오래 걸림 |
| **기상 데이터 수동** | EPW 파일 직접 다운로드 필요 |
| **디버깅 어려움** | 에러 발생 시 해결이 복잡 |

</details>

---

## 5. 15분/시간별 데이터 추출 방법

### 방법 1: Revit → OpenStudio → EnergyPlus (권장)

```
Revit 모델
    ↓ [내보내기: gbXML]
gbXML 파일
    ↓ [OpenStudio로 열기]
OpenStudio 모델
    ↓ [Output Variables 설정]
    ↓ [시뮬레이션 실행]
EnergyPlus 결과 (CSV)
    → 15분/시간별 데이터 추출 가능!
```

### 방법 2: Revit → gbXML → EnergyPlus 직접

```
Revit 모델
    ↓ [내보내기: gbXML]
gbXML 파일
    ↓ [gbXML to IDF 변환 도구]
IDF 파일
    ↓ [EnergyPlus EP-Launch로 실행]
    ↓ [Output:Variable 추가]
결과 CSV
    → 15분/시간별 데이터!
```

### 필요한 도구 (모두 무료)

| 도구 | 용도 | 다운로드 |
|:---|:---|:---|
| **EnergyPlus** | 시뮬레이션 엔진 | [energyplus.net](https://energyplus.net) |
| **OpenStudio** | GUI + gbXML 변환 | [openstudio.net](https://openstudio.net) |
| **SketchUp + OS Plugin** | 모델 확인/편집 | 선택사항 |

### EnergyPlus Output 설정 예시

```idf
Output:Variable,
    *,                       !- Key Value (모든 존)
    Zone Mean Air Temperature,  !- Variable Name
    Timestep;                !- Reporting Frequency (15분 간격)

Output:Variable,
    *,
    Zone Air System Sensible Cooling Energy,
    Hourly;                  !- Reporting Frequency (시간별)
```

---

## 6. 용도별 추천

| 사용 목적 | 추천 도구 | 이유 |
|:---|:---|:---|
| **설계 초기 검토** | Revit/Insight | 빠른 비교, 쉬운 사용 |
| **LEED/G-SEED 인증** | 외부 EnergyPlus | 정밀 분석, 상세 리포트 |
| **디지털 트윈 연동** | 외부 EnergyPlus | 시간별 데이터 필요 |
| **연구/논문** | 외부 EnergyPlus | 완전한 데이터 접근 |
| **건축주 프레젠테이션** | Revit/Insight | 직관적 결과, Insight 대시보드 |

---

## 7. 요약

| 질문 | 답변 |
|:---|:---|
| Revit이 EnergyPlus를 쓰나요? | DOE-2.2 기반 + EnergyPlus 요소 혼합 (순수 E+ 아님) |
| 15분 데이터는 어디서 계산? | Autodesk 클라우드에서 내부적으로 계산 |
| 15분 데이터 추출 가능? | Revit/Insight에서는 ❌ 불가 |
| 15분 데이터 얻으려면? | gbXML → OpenStudio/EnergyPlus 로컬 실행 |
| 월별 데이터의 정확도? | 15분 단위 정밀 계산 기반이므로 높음 |

---

> **💡 Tip:** 설계 초기에는 Revit/Insight로 빠르게 검토하고, 최종 인증이나 상세 분석이 필요할 때 EnergyPlus로 전환하는 **하이브리드 워크플로우**가 효율적입니다.
